#!/usr/bin/env node
"use strict";var app=require("../app");var debug=require("debug")("viacep-luizalabs:server");var http=require("http");var port=normalizePort(process.env.PORT||3000);app.set("port",port);var server=http.createServer(app);server.listen(port);server.on("error",onError);server.on("listening",onListening);function normalizePort(val){var port=parseInt(val,10);if(isNaN(port)){return val}if(port>=0){return port}return false}function onError(error){if(error.syscall!=="listen"){throw error}var bind=typeof port==="string"?"Pipe ".concat(port):"Port ".concat(port);switch(error.code){case"EACCES":console.error("".concat(bind," requires elevated privileges"));process.exit(1);case"EADDRINUSE":console.error("".concat(bind," is already in use"));process.exit(1);default:throw error;}}function onListening(){var addr=server.address();var bind=typeof addr==="string"?"pipe ".concat(addr):"port ".concat(addr.port);debug("Listening on ".concat(bind))}